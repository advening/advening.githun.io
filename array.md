# 数组

#### 数组的定义

```go
var variable_name [SIZE] variable_type
# 例如
var array [10] float32
# 多维数组
var array [2][3][4] float32
```

#### 数组初始化

1、定义一个数组并初始化

~~~go
1、定义一个数组并初始化
var array = [5] float32{1000.0, 2.0, 3.4, 7.0, 50.0}
# []中的数组长度可以不声明，根据数据长度自动确定

2、先声明再初始化
var array [5] int
array = {1,2,3,4,5}

3、直接声明并初始化
array := [3]int{1,2,3}
~~~

#### 数组长度

通过len()函数获取数组的长度

#### 数组遍历

~~~go
1、普通方式
for i := 0; i < len(array); i++ {
  fmt.Println(i, array[i])
}

2、range方式
for i, v := range array{
  fmt.Println(i, v)
}
~~~

#### 数组的函数传值

作为函数参数时，是 **值传递**，函数中的修改对调用者不可见

Go 语言中对数组的处理，一般采用 **切片** 的方式，切片包含对底层数组内容的引用，作为函数参数时，类似于 **指针传递**，函数中的修改对调用者可见

# 切片

是可变长度的数组，属于在数组之上再次封装得到。

~~~go
1、声明切片
var slice [] variable_type

2、通过make函数
var slice1 []type = make([]type, len)
或
slice1 := make([]type, len)
~~~

[]中不需要说明长度。

make函数包含3个参数，第一个为切片类型，第二个为length，第三个为容量capacity，其中capacity为可选参数。

#### 长度和容量

切片的长度就是它所包含的元素个数。

切片的容量是从它的第一个元素开始数，到其底层数组元素末尾的个数。

切片 `s` 的长度和容量可通过表达式 `len(s)` 和 `cap(s)` 来获取。

#### 扩容

向切片追加新元素的 append 方法，append函数用法为

```go
slice = append(slice, elem1, elem2)
slice = append(slice, slice2...)
```

第一种用法中，第一个参数为slice，后面可以添加多个需要添加的元素参数。如果是将两个slice拼接在一起，则需要使用第二种用法，在第二个slice的名称后面加三个点，而且这时候append只支持两个参数，不支持任意个数的参数。

如果空间不足以容纳足够多的元素，切片就会进行扩容，即切片的容量会增加，按照2的倍数增加，2，4，8，16...等。

扩容机制：1、当需要的容量超过原切片容量的两倍时，会使用需要的容量作为新容量。2、当原切片长度小于1024时，新切片的容量会直接翻倍。而当原切片的容量大于等于1024时，会反复地增加25%，直到新容量超过所需要的容量。

# 两者对比

`[5]int`为数组，`[]int`是切片

